<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Efficiency Planner Tool</title>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="../assets/css/bootstrap.min.css" />

    <!-- SmartWizard CSS -->
    <link
      rel="stylesheet"
      href="./assets/libs/jquery-smartwizard-master/dist/css/smart_wizard_all.min.css"
    />
    <link rel="stylesheet" href="./assets/css/custom.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/css/toastr.min.css"
    />
  </head>

  <body>
    <header class="py-3 mb-4 border-bottom bg-success-subtle">
      <div class="container d-flex flex-wrap justify-content-center">
        <a
          href="../index.html"
          class="d-flex align-items-center h-3 text-success mb-3 mb-lg-0 me-lg-auto text-dark text-decoration-none"
        >
          Mimi & Marble Tech Limited
        </a>
      </div>
    </header>

    <div class="container mt-4">
      <div class="row">
        <div class="col-md-12">
          <div id="smartwizard">
            <ul class="nav">
              <li class="nav-item">
                <a class="nav-link" href="#address">Address</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#requirements">Requirements</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#options">Options</a>
              </li>
            </ul>

            <div class="tab-content" style="">
              <!-- Step 1: EPC Verification -->
              <div
                id="address"
                class="tab-pane"
                role="tabpanel"
                aria-labelledby="address"
              >
                <form
                  id="search_postcode_form"
                  class="my-3 col-md-6 col-xl-4 m-auto"
                >
                  <input
                    type="search"
                    class="form-control"
                    id="postalCode"
                    placeholder="Enter Postcode to begin..."
                    aria-label="Search"
                  />
                  <div class="suggestions" id="suggestionsContainer"></div>
                  <button class="btn btn-outline-secondary my-2 w-100">
                    Search
                  </button>
                </form>
                <div class="row">
                  <form id="epc_verification_form" class="d-none">
                    <div class="display-6 text-center mb-4">
                      Verify Property Details
                    </div>

                    <div class="row g-3">
                      <!-- Current EPC Certificate -->
                      <div class="col-md-4 d-none">
                        <label for="epcCertificate" class="form-label"
                          >Current EPC Certificate or Estimated EPC</label
                        >
                      </div>
                      <div class="col-md-8 d-none">
                        <input
                          type="text"
                          class="form-control"
                          id="epcCertificate"
                          placeholder="Enter EPC Certificate details"
                        />
                      </div>

                      <!-- Type of House -->
                      <div class="col-md-4">
                        <label for="houseType" class="form-label"
                          >Type of House</label
                        >
                      </div>
                      <div class="col-md-8">
                        <select class="form-select" id="houseType" disabled>
                          <option selected>Select type of house</option>
                          <option value="detached">Detached</option>
                          <option value="semi-detached" selected>
                            Semi-Detached
                          </option>
                          <option value="terraced">Terraced</option>
                          <option value="flat">Flat</option>
                        </select>
                      </div>

                      <!-- Estimated House Value -->
                      <div class="col-md-4">
                        <label for="houseValue" class="form-label"
                          >Estimated House Value (£)</label
                        >
                      </div>
                      <div class="col-md-8">
                        <input
                          type="number"
                          class="form-control"
                          id="houseValue"
                          placeholder="Enter estimated value"
                          value="650000"
                          disabled
                        />
                      </div>

                      <!-- Council Tax Band -->
                      <div class="col-md-4">
                        <label for="councilTax" class="form-label"
                          >Council Tax Band</label
                        >
                      </div>
                      <div class="col-md-8">
                        <select class="form-select" id="councilTax" disabled>
                          <option selected>Select council tax band</option>
                          <option value="A">A</option>
                          <option value="B">B</option>
                          <option value="C">C</option>
                          <option value="D">D</option>
                          <option value="E" selected>E</option>
                          <option value="F">F</option>
                          <option value="G">G</option>
                          <option value="H">H</option>
                        </select>
                      </div>

                      <!-- Age of House -->
                      <div class="col-md-4">
                        <label for="houseAge" class="form-label"
                          >Age of House (Years)</label
                        >
                      </div>
                      <div class="col-md-8">
                        <input
                          type="number"
                          class="form-control"
                          id="houseAge"
                          placeholder="Enter age of house"
                          value="85"
                          disabled
                        />
                      </div>

                      <!-- Number of Bedrooms -->
                      <div class="col-md-4">
                        <label for="bedrooms" class="form-label"
                          >Number of Bedrooms</label
                        >
                      </div>
                      <div class="col-md-8">
                        <input
                          type="number"
                          class="form-control"
                          id="bedrooms"
                          placeholder="Enter number of bedrooms"
                          value="3"
                          disabled
                        />
                      </div>

                      <!-- Wall Type -->
                      <div class="col-md-4">
                        <label for="wallType" class="form-label"
                          >Wall Type</label
                        >
                      </div>
                      <div class="col-md-8">
                        <input
                          type="text"
                          class="form-control"
                          id="wallType"
                          placeholder="Enter wall type"
                          value="Brick"
                          disabled
                        />
                      </div>

                      <!-- Roof Type -->
                      <div class="col-md-4">
                        <label for="roofType" class="form-label"
                          >Roof Type</label
                        >
                      </div>
                      <div class="col-md-8">
                        <input
                          type="text"
                          class="form-control"
                          id="roofType"
                          placeholder="Enter roof type"
                          value="Pitched"
                          disabled
                        />
                      </div>

                      <!-- Window Type -->
                      <div class="col-md-4">
                        <label for="windowType" class="form-label"
                          >Window Type</label
                        >
                      </div>
                      <div class="col-md-8">
                        <input
                          type="text"
                          class="form-control"
                          id="windowType"
                          placeholder="Enter window type"
                          value="No data available"
                          disabled
                        />
                      </div>

                      <!-- Main Heating Source -->
                      <div class="col-md-4">
                        <label for="heatingSource" class="form-label"
                          >Main Heating Source</label
                        >
                      </div>
                      <div class="col-md-8">
                        <input
                          type="text"
                          class="form-control"
                          id="heatingSource"
                          placeholder="Enter heating source"
                          value="Boiler and radiators, mains gas"
                          disabled
                        />
                      </div>

                      <!-- Solar Panels -->
                      <div class="col-md-4">
                        <label for="solarPanels" class="form-label"
                          >Solar Panels (Yes/No)</label
                        >
                      </div>
                      <div class="col-md-8">
                        <select class="form-select" id="solarPanels" disabled>
                          <option selected>Select option</option>
                          <option value="yes">Yes</option>
                          <option value="no" selected>No</option>
                        </select>
                      </div>

                      <!-- Estimated Average Energy Costs -->
                      <div class="col-md-4">
                        <label for="energyCosts" class="form-label"
                          >Estimated Average Energy Costs (£)</label
                        >
                      </div>
                      <div class="col-md-8">
                        <input
                          type="number"
                          class="form-control"
                          id="energyCosts"
                          placeholder="Enter average energy costs"
                          value="207"
                          disabled
                        />
                      </div>

                      <!-- Estimated Carbon Emissions -->
                      <div class="col-md-4">
                        <label for="carbonEmissions" class="form-label"
                          >Estimated Carbon Emissions (kgCO2)</label
                        >
                      </div>
                      <div class="col-md-8">
                        <input
                          type="text"
                          class="form-control"
                          id="carbonEmissions"
                          placeholder="Enter carbon emissions"
                          value="No data available"
                          disabled
                        />
                      </div>

                      <!-- Property Orientation -->
                      <div class="col-md-4">
                        <label for="propertyOrientation" class="form-label"
                          >Property Orientation</label
                        >
                      </div>
                      <div class="col-md-8">
                        <input
                          type="text"
                          class="form-control"
                          id="propertyOrientation"
                          placeholder="Enter property orientation"
                          value="North West"
                          disabled
                        />
                      </div>

                      <!-- Property Structure -->
                      <div class="col-md-4">
                        <label for="propertyStructure" class="form-label"
                          >Property Structure</label
                        >
                      </div>
                      <div class="col-md-8">
                        <input
                          type="text"
                          class="form-control"
                          id="propertyStructure"
                          placeholder="Enter property structure"
                          value="327.91"
                          disabled
                        />
                      </div>

                      <!-- Roof Area -->
                      <div class="col-md-4">
                        <label for="roofArea" class="form-label"
                          >Roof Area (m<sup>2</sup>)</label
                        >
                      </div>
                      <div class="col-md-8">
                        <input
                          type="number"
                          class="form-control"
                          id="roofArea"
                          placeholder="Enter roof area"
                          value="47"
                          disabled
                        />
                      </div>

                      <!-- Roof Pitch -->
                      <div class="col-md-4">
                        <label for="roofPitch" class="form-label"
                          >Roof Pitch (degrees)</label
                        >
                      </div>
                      <div class="col-md-8">
                        <input
                          type="number"
                          class="form-control"
                          id="roofPitch"
                          placeholder="Enter roof pitch"
                          value="38"
                          disabled
                        />
                      </div>

                      <!-- Aerial View Image -->
                      <div class="col-md-4">
                        <label for="aerialImage" class="form-label"
                          >Aerial View Image</label
                        >
                      </div>
                      <div class="col-md-8">
                        <input
                          class="form-control"
                          type="file"
                          id="aerialImage"
                          accept="image/*"
                          onchange="previewImage(event, 'aerialPreviewImg')"
                          disabled
                        />
                        <!-- Aerial View Image Preview -->
                        <div class="image-preview mt-3" id="aerialPreview">
                          <img
                            id="aerialPreviewImg"
                            src="assets/image/aerial-view.png"
                            alt="aerial-view"
                            class="img-fluid"
                            style="max-height: 300px"
                          />
                        </div>
                      </div>

                      <div class="col-md-4">
                        <label for="streetImage" class="form-label"
                          >Street View Image</label
                        >
                      </div>
                      <div class="col-md-8">
                        <!-- Image Input -->
                        <input
                          class="form-control"
                          type="file"
                          id="streetImage"
                          accept="image/*"
                          onchange="previewImage(event,'streetPreviewImg')"
                          disabled
                        />
                        <!-- Image Preview -->
                        <div class="image-preview mt-3" id="streetPreview">
                          <img
                            id="streetPreviewImg"
                            src="assets/image/street-view.png"
                            alt="street-view"
                            class="img-fluid"
                            style="max-height: 300px"
                          />
                        </div>
                      </div>
                    </div>
                    <div class="row mt-2 g-3">
                      <div class="col-md-8"></div>
                      <div class="col-md-4 text-end">
                        <button
                          type="button"
                          class="btn btn-primary"
                          id="validateAddressModal"
                          data-bs-toggle="modal"
                          data-bs-target="#validationModal"
                        >
                          Confirm Property Details
                        </button>
                        <button
                          type="button"
                          class="btn btn-success d-none"
                          id="saveAddress"
                        >
                          Save and Next
                        </button>
                      </div>
                    </div>
                  </form>
                </div>
              </div>

              <!-- Step 2: Requirements -->
              <div
                id="requirements"
                class="tab-pane"
                role="tabpanel"
                aria-labelledby="requirements"
              >
                <div class="display-6 text-center mb-2">
                  Update energy demand
                </div>
                <form action="" class="" id="requirementForm">
                  <!-- Electric Car Section -->
                  <div class="row mt-3 g-3">
                    <div class="mb-3 row">
                      <label class="col-md-6 col-form-label"
                        >Do you have or plan to purchase an electric car?</label
                      >
                      <div class="col-md-6 d-flex align-items-center">
                        <div class="form-check me-3">
                          <input
                            class="form-check-input"
                            type="radio"
                            name="electricCar"
                            id="electricCarYes"
                          />
                          <label class="form-check-label" for="electricCarYes"
                            >Yes</label
                          >
                        </div>
                        <div class="form-check">
                          <input
                            class="form-check-input"
                            type="radio"
                            name="electricCar"
                            id="electricCarNo"
                          />
                          <label class="form-check-label" for="electricCarNo"
                            >No</label
                          >
                        </div>
                      </div>
                    </div>

                    <div id="evChargerSection" class="mb-3 row d-none">
                      <label class="col-md-6 col-form-label"
                        >Do you have an EV Charger?</label
                      >
                      <div class="col-md-6 d-flex align-items-center">
                        <div class="form-check me-3">
                          <input
                            class="form-check-input"
                            type="radio"
                            name="evCharger"
                            id="evChargerYes"
                          />
                          <label class="form-check-label" for="evChargerYes"
                            >Yes</label
                          >
                        </div>
                        <div class="form-check">
                          <input
                            class="form-check-input"
                            type="radio"
                            name="evCharger"
                            id="evChargerNo"
                          />
                          <label class="form-check-label" for="evChargerNo"
                            >No</label
                          >
                        </div>
                      </div>
                    </div>

                    <div class="mb-3 row">
                      <label class="col-md-6 col-form-label"
                        >Do you have room in the loft or roof?</label
                      >
                      <div class="col-md-6 d-flex align-items-center">
                        <div class="form-check me-3">
                          <input
                            class="form-check-input"
                            type="radio"
                            name="loftSpace"
                            id="loftSpaceYes"
                          />
                          <label class="form-check-label" for="loftSpaceYes"
                            >Yes</label
                          >
                        </div>
                        <div class="form-check">
                          <input
                            class="form-check-input"
                            type="radio"
                            name="loftSpace"
                            id="loftSpaceNo"
                          />
                          <label class="form-check-label" for="loftSpaceNo"
                            >No</label
                          >
                        </div>
                      </div>
                    </div>
                  </div>
                </form>
              </div>

              <!-- Step 3: Options -->
              <div
                id="options"
                class="tab-pane"
                role="tabpanel"
                aria-labelledby="options"
              >
                <div class="row">
                  <h1 class="text-center">Energy Efficiency Plans</h1>
                  <div class="packages-grid">
                    <!-- Card 1: Low Cost Quick Wins -->
                    <div class="card m-2" id="low-cost-form-card">
                      <div class="card-header">Low Cost Quick Wins</div>
                      <div class="card-body">
                        <form id="low-cost-form">
                          <div class="form-check">
                            <input
                              class="form-check-input"
                              type="checkbox"
                              value="30"
                              id="draftProofing"
                              data-bill-saving="5"
                              data-carbon-saving="10"
                              data-value-added="100"
                            />
                            <label class="form-check-label" for="draftProofing">
                              Window and Door Draft Proofing (£30)
                            </label>
                          </div>
                          <div class="form-check">
                            <input
                              class="form-check-input"
                              type="checkbox"
                              value="10"
                              id="lowEnergyBulbs"
                              data-bill-saving="2"
                              data-carbon-saving="8"
                              data-value-added="20"
                            />
                            <label
                              class="form-check-label"
                              for="lowEnergyBulbs"
                            >
                              Low-energy Light Bulbs (£10)
                            </label>
                          </div>
                        </form>
                      </div>
                      <div class="card-footer">
                        <p class="">Total: £<span id="lowCostTotal">0</span></p>
                      </div>
                    </div>

                    <!-- Card 2: Budget-Friendly Energy Efficiency Solutions -->
                    <div class="card m-2" id="budget-friendly-form-card">
                      <div class="card-header">
                        Budget-Friendly Energy Efficiency Solutions
                      </div>
                      <div class="card-body">
                        <form id="budget-friendly-form">
                          <div class="form-check">
                            <input
                              class="form-check-input"
                              type="checkbox"
                              value="100"
                              id="loftInsulation"
                              data-bill-saving="15"
                              data-carbon-saving="25"
                              data-value-added="500"
                            />
                            <label
                              class="form-check-label"
                              for="loftInsulation"
                            >
                              Loft Insulation (£100)
                            </label>
                          </div>
                          <div class="form-check">
                            <input
                              class="form-check-input"
                              type="checkbox"
                              value="120"
                              id="cavityWallInsulation"
                              data-bill-saving="20"
                              data-carbon-saving="30"
                              data-value-added="600"
                            />
                            <label
                              class="form-check-label"
                              for="cavityWallInsulation"
                            >
                              Cavity Wall Insulation (£120)
                            </label>
                          </div>
                          <div class="form-check">
                            <input
                              class="form-check-input"
                              type="checkbox"
                              value="50"
                              id="ventilation"
                              data-bill-saving="8"
                              data-carbon-saving="10"
                              data-value-added="200"
                            />
                            <label class="form-check-label" for="ventilation">
                              Ventilation (£50)
                            </label>
                          </div>
                          <div class="form-check">
                            <input
                              class="form-check-input"
                              type="checkbox"
                              value="300"
                              id="evCharger"
                              data-bill-saving="25"
                              data-carbon-saving="50"
                              data-value-added="1000"
                            />
                            <label class="form-check-label" for="evCharger">
                              EV Charger (£300)
                            </label>
                          </div>
                        </form>
                      </div>
                      <div class="card-footer">
                        <p class="">
                          Total: £<span id="budgetFriendlyTotal">0</span>
                        </p>
                      </div>
                    </div>

                    <!-- Card 3: Higher-Cost Longer-Term Solutions -->
                    <div class="card m-2" id="higher-cost-form-card">
                      <div class="card-header">
                        Higher-Cost Longer-Term Solutions
                      </div>
                      <div class="card-body">
                        <form id="higher-cost-form">
                          <div class="form-check">
                            <input
                              class="form-check-input"
                              type="checkbox"
                              value="4000"
                              id="solar"
                              data-bill-saving="100"
                              data-carbon-saving="200"
                              data-value-added="5000"
                            />
                            <label class="form-check-label" for="solar">
                              Solar (£4000)
                            </label>
                          </div>
                          <div class="form-check">
                            <input
                              class="form-check-input"
                              type="checkbox"
                              value="6000"
                              id="solarBattery"
                              data-bill-saving="150"
                              data-carbon-saving="300"
                              data-value-added="7000"
                            />
                            <label class="form-check-label" for="solarBattery">
                              Solar + Battery (£6000)
                            </label>
                          </div>
                          <div class="form-check">
                            <input
                              class="form-check-input"
                              type="checkbox"
                              value="8000"
                              id="heatPump"
                              data-bill-saving="200"
                              data-carbon-saving="400"
                              data-value-added="10000"
                            />
                            <label class="form-check-label" for="heatPump">
                              Air Source or Ground Source Heat Pump (£8000)
                            </label>
                          </div>
                          <div class="form-check">
                            <input
                              class="form-check-input"
                              type="checkbox"
                              value="3000"
                              id="doubleGlazing"
                              data-bill-saving="75"
                              data-carbon-saving="100"
                              data-value-added="4000"
                            />
                            <label class="form-check-label" for="doubleGlazing">
                              New Double Glazing (£3000)
                            </label>
                          </div>
                          <div class="form-check">
                            <input
                              class="form-check-input"
                              type="checkbox"
                              value="5000"
                              id="externalWallInsulation"
                              data-bill-saving="120"
                              data-carbon-saving="250"
                              data-value-added="6000"
                            />
                            <label
                              class="form-check-label"
                              for="externalWallInsulation"
                            >
                              External Wall Insulation (£5000)
                            </label>
                          </div>
                          <div class="form-check">
                            <input
                              class="form-check-input"
                              type="checkbox"
                              value="4000"
                              id="internalWallInsulation"
                              data-bill-saving="110"
                              data-carbon-saving="200"
                              data-value-added="5000"
                            />
                            <label
                              class="form-check-label"
                              for="internalWallInsulation"
                            >
                              Internal Wall Insulation (£4000)
                            </label>
                          </div>
                        </form>
                      </div>
                      <div class="card-footer">
                        <p class="">
                          Total: £<span id="higherCostTotal">0</span>
                        </p>
                      </div>
                    </div>
                  </div>
                  <div class="row my-2">
                    <div>
                      <h3>Summary</h3>
                    </div>
                    <div class="col-md-6">
                      <div class="d-flex justify-content-between">
                        <h6>Total from Package</h6>
                        <span>£<span id="totalFromPackage">0</span></span>
                      </div>
                      <div class="d-flex justify-content-between">
                        <h6>Discount</h6>
                        <span>£<span id="discountAmount">0</span></span>
                      </div>
                      <div class="d-flex justify-content-between">
                        <h5>Final Total</h5>
                        <span>£<span id="finalTotal">0</span></span>
                      </div>
                    </div>
                    <div class="col-md-6">
                      <div class="d-flex justify-content-between">
                        <h6>Monthly Bill Saving</h6>
                        <span>£<span id="totalBillSaving">0</span></span>
                      </div>
                      <div class="d-flex justify-content-between">
                        <h6>Carbon Emission Saving</h6>
                        <span
                          ><span id="totalCarbonSaving">0</span> Kg/Year</span
                        >
                      </div>
                      <div class="d-flex justify-content-between">
                        <h5>Value Added to Property</h5>
                        <span>£<span id="totalPropertyValue">0</span></span>
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-3">
                      <h5>EPC Rating</h5>
                      <div class="d-flex justify-content-around">
                        <div>
                          <p>Current Rating</p>
                          <h2
                            class="border border-3 border-success rounded-circle text-center w-50"
                            id=""
                          >
                            E
                          </h2>
                        </div>
                        <div>
                          <p>Potential Rating</p>
                          <h2
                            class="border border-3 border-success rounded-circle text-center w-50"
                            id="epcRating"
                          >
                            E
                          </h2>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Address Validation Modal Structure -->
    <div
      class="modal fade"
      id="validationModal"
      tabindex="-1"
      aria-labelledby="validationModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="validationModalLabel">
              Validate Property Details
            </h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <p>Please confirm if the property details are correct.</p>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-success"
              id="confirmAddressValidation"
            >
              Confirm property details are correct
            </button>
            <button
              type="button"
              class="btn btn-warning"
              id="updateAddressValidation"
            >
              Edit Property Details
            </button>
          </div>
        </div>
      </div>
    </div>

    <script>
      page = "withoutChart";
    </script>
    <!-- Bootstrap JS -->
    <script src="../assets/libs/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <!-- jQuery and SmartWizard JS -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- <script src="../assets/libs/jquery/dist/jquery.min.js"></script> -->
    <script src="../assets/libs/simplebar/dist/simplebar.js"></script>
    <script src="../assets/libs/jquery-smartwizard-master/dist/js/jquery.smartWizard.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/js/toastr.min.js"></script>
    <script src="../assets/js/custom.js"></script>
  </body>
</html>
