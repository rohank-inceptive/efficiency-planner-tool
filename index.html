<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Efficiency Planner Tool</title>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="../assets/css/bootstrap.min.css" />

    <!-- SmartWizard CSS -->
    <link
      rel="stylesheet"
      href="./assets/libs/jquery-smartwizard-master/dist/css/smart_wizard_all.min.css"
    />
    <style>
      .suggestions {
        border: 1px solid #ccc;
        max-height: 100px;
        overflow-y: auto;
        display: none;
        position: absolute;
        background: white;
        z-index: 10;
        width: 33.33333333%;
      }
      .suggestion-item {
        padding: 10px 5px;
        cursor: pointer;
      }
      .suggestion-item:hover {
        background: #f0f0f0;
      }
    </style>
  </head>

  <body>
    <header class="py-3 mb-4 border-bottom bg-success-subtle">
      <div class="container d-flex flex-wrap justify-content-center">
        <a
          href="../index.html"
          class="d-flex align-items-center h-3 text-success mb-3 mb-lg-0 me-lg-auto text-dark text-decoration-none"
        >
          <img
            src="../assets/image/logo-scis.webp"
            width="100"
            class="img d-none"
            alt="scis-logo"
          />
          Mimi & Marble Tech Limited
        </a>
      </div>
    </header>

    <div class="container mt-4">
      <div class="row">
        <div class="col-md-12">
          <div id="smartwizard">
            <ul class="nav">
              <li class="nav-item">
                <a class="nav-link" href="#address">Address</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#requirements">Requirements</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#options">Options</a>
              </li>
            </ul>

            <div class="tab-content" style="">
              <!-- Step 1: EPC Verification -->
              <div
                id="address"
                class="tab-pane"
                role="tabpanel"
                aria-labelledby="address"
              >
                <form id="search_postcode_form" class="my-3 col-4 m-auto">
                  <input
                    type="search"
                    class="form-control"
                    id="postalCode"
                    placeholder="Enter Postcode to begin..."
                    aria-label="Search"
                  />
                  <div class="suggestions" id="suggestionsContainer"></div>
                  <button class="btn btn-outline-secondary my-2 w-100">
                    Search
                  </button>
                </form>
                <div class="row">
                  <form id="epc_verification_form" class="d-none">
                    <div class="display-6 text-center mb-4">
                      Verify Property Details
                    </div>

                    <div class="row g-3">
                      <!-- Current EPC Certificate -->
                      <div class="col-md-4 d-none">
                        <label for="epcCertificate" class="form-label"
                          >Current EPC Certificate or Estimated EPC</label
                        >
                      </div>
                      <div class="col-md-8 d-none">
                        <input
                          type="text"
                          class="form-control"
                          id="epcCertificate"
                          placeholder="Enter EPC Certificate details"
                        />
                      </div>

                      <!-- Type of House -->
                      <div class="col-md-4">
                        <label for="houseType" class="form-label"
                          >Type of House</label
                        >
                      </div>
                      <div class="col-md-8">
                        <select class="form-select" id="houseType" disabled>
                          <option selected>Select type of house</option>
                          <option value="detached">Detached</option>
                          <option value="semi-detached" selected>
                            Semi-Detached
                          </option>
                          <option value="terraced">Terraced</option>
                          <option value="flat">Flat</option>
                        </select>
                      </div>

                      <!-- Estimated House Value -->
                      <div class="col-md-4">
                        <label for="houseValue" class="form-label"
                          >Estimated House Value (£)</label
                        >
                      </div>
                      <div class="col-md-8">
                        <input
                          type="number"
                          class="form-control"
                          id="houseValue"
                          placeholder="Enter estimated value"
                          value="650000"
                          disabled
                        />
                      </div>

                      <!-- Council Tax Band -->
                      <div class="col-md-4">
                        <label for="councilTax" class="form-label"
                          >Council Tax Band</label
                        >
                      </div>
                      <div class="col-md-8">
                        <select class="form-select" id="councilTax" disabled>
                          <option selected>Select council tax band</option>
                          <option value="A">A</option>
                          <option value="B">B</option>
                          <option value="C">C</option>
                          <option value="D">D</option>
                          <option value="E" selected>E</option>
                          <option value="F">F</option>
                          <option value="G">G</option>
                          <option value="H">H</option>
                        </select>
                      </div>

                      <!-- Age of House -->
                      <div class="col-md-4">
                        <label for="houseAge" class="form-label"
                          >Age of House (Years)</label
                        >
                      </div>
                      <div class="col-md-8">
                        <input
                          type="number"
                          class="form-control"
                          id="houseAge"
                          placeholder="Enter age of house"
                          value="85"
                          disabled
                        />
                      </div>

                      <!-- Number of Bedrooms -->
                      <div class="col-md-4">
                        <label for="bedrooms" class="form-label"
                          >Number of Bedrooms</label
                        >
                      </div>
                      <div class="col-md-8">
                        <input
                          type="number"
                          class="form-control"
                          id="bedrooms"
                          placeholder="Enter number of bedrooms"
                          value="3"
                          disabled
                        />
                      </div>

                      <!-- Wall Type -->
                      <div class="col-md-4">
                        <label for="wallType" class="form-label"
                          >Wall Type</label
                        >
                      </div>
                      <div class="col-md-8">
                        <input
                          type="text"
                          class="form-control"
                          id="wallType"
                          placeholder="Enter wall type"
                          value="Brick"
                          disabled
                        />
                      </div>

                      <!-- Roof Type -->
                      <div class="col-md-4">
                        <label for="roofType" class="form-label"
                          >Roof Type</label
                        >
                      </div>
                      <div class="col-md-8">
                        <input
                          type="text"
                          class="form-control"
                          id="roofType"
                          placeholder="Enter roof type"
                          value="Pitched"
                          disabled
                        />
                      </div>

                      <!-- Window Type -->
                      <div class="col-md-4">
                        <label for="windowType" class="form-label"
                          >Window Type</label
                        >
                      </div>
                      <div class="col-md-8">
                        <input
                          type="text"
                          class="form-control"
                          id="windowType"
                          placeholder="Enter window type"
                          value="No data available"
                          disabled
                        />
                      </div>

                      <!-- Main Heating Source -->
                      <div class="col-md-4">
                        <label for="heatingSource" class="form-label"
                          >Main Heating Source</label
                        >
                      </div>
                      <div class="col-md-8">
                        <input
                          type="text"
                          class="form-control"
                          id="heatingSource"
                          placeholder="Enter heating source"
                          value="Boiler and radiators, mains gas"
                          disabled
                        />
                      </div>

                      <!-- Solar Panels -->
                      <div class="col-md-4">
                        <label for="solarPanels" class="form-label"
                          >Solar Panels (Yes/No)</label
                        >
                      </div>
                      <div class="col-md-8">
                        <select class="form-select" id="solarPanels" disabled>
                          <option selected>Select option</option>
                          <option value="yes">Yes</option>
                          <option value="no" selected>No</option>
                        </select>
                      </div>

                      <!-- Estimated Average Energy Costs -->
                      <div class="col-md-4">
                        <label for="energyCosts" class="form-label"
                          >Estimated Average Energy Costs (£)</label
                        >
                      </div>
                      <div class="col-md-8">
                        <input
                          type="number"
                          class="form-control"
                          id="energyCosts"
                          placeholder="Enter average energy costs"
                          value="207"
                          disabled
                        />
                      </div>

                      <!-- Estimated Carbon Emissions -->
                      <div class="col-md-4">
                        <label for="carbonEmissions" class="form-label"
                          >Estimated Carbon Emissions (kgCO2)</label
                        >
                      </div>
                      <div class="col-md-8">
                        <input
                          type="text"
                          class="form-control"
                          id="carbonEmissions"
                          placeholder="Enter carbon emissions"
                          value="No data available"
                          disabled
                        />
                      </div>

                      <!-- Property Orientation -->
                      <div class="col-md-4">
                        <label for="propertyOrientation" class="form-label"
                          >Property Orientation</label
                        >
                      </div>
                      <div class="col-md-8">
                        <input
                          type="text"
                          class="form-control"
                          id="propertyOrientation"
                          placeholder="Enter property orientation"
                          value="North West"
                          disabled
                        />
                      </div>

                      <!-- Property Structure -->
                      <div class="col-md-4">
                        <label for="propertyStructure" class="form-label"
                          >Property Structure</label
                        >
                      </div>
                      <div class="col-md-8">
                        <input
                          type="text"
                          class="form-control"
                          id="propertyStructure"
                          placeholder="Enter property structure"
                          value="327.91"
                          disabled
                        />
                      </div>

                      <!-- Roof Area -->
                      <div class="col-md-4">
                        <label for="roofArea" class="form-label"
                          >Roof Area (m<sup>2</sup>)</label
                        >
                      </div>
                      <div class="col-md-8">
                        <input
                          type="number"
                          class="form-control"
                          id="roofArea"
                          placeholder="Enter roof area"
                          value="47"
                          disabled
                        />
                      </div>

                      <!-- Roof Pitch -->
                      <div class="col-md-4">
                        <label for="roofPitch" class="form-label"
                          >Roof Pitch (degrees)</label
                        >
                      </div>
                      <div class="col-md-8">
                        <input
                          type="number"
                          class="form-control"
                          id="roofPitch"
                          placeholder="Enter roof pitch"
                          value="38"
                          disabled
                        />
                      </div>

                      <!-- Aerial and Street View Image -->
                      <div class="col-md-4 d-none">
                        <label for="aerialImage" class="form-label"
                          >Aerial and Street View Image</label
                        >
                      </div>
                      <div class="col-md-8 d-none">
                        <input
                          type="file"
                          class="form-control"
                          id="aerialImage"
                        />
                      </div>
                    </div>
                  </form>
                </div>
              </div>

              <!-- Step 2: Requirements -->
              <div
                id="requirements"
                class="tab-pane"
                role="tabpanel"
                aria-labelledby="requirements"
              >
                <div class="display-6 text-center mb-2">
                  Update energy demand
                </div>
                <form></form>
              </div>

              <!-- Step 3: Options -->
              <div
                id="options"
                class="tab-pane"
                role="tabpanel"
                aria-labelledby="options"
              >
                <div class="row"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="../assets/libs/bootstrap/dist/js/bootstrap.bundle.min.js"></script>

    <!-- jQuery and SmartWizard JS -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- <script src="../assets/libs/jquery/dist/jquery.min.js"></script> -->
    <script src="../assets/libs/simplebar/dist/simplebar.js"></script>

    <script src="./assets/libs/jquery-smartwizard-master/dist/js/jquery.smartWizard.min.js"></script>

    <!-- Initialize SmartWizard -->
    <script>
      $(document).ready(function () {
        const dummyAddresses = [
          "33, Langham Gardens, Wembley, HA0 3RG",
          "221B Baker Street, Marylebone, London NW1 6XE",
        ];
        $("#smartwizard").smartWizard({
          theme: "arrows",
          themePrefixCss: "sw-theme-",
          transition: {
            animation: "fade",
          },
        });
        $("#search_postcode_form").on("submit", function (e) {
          e.preventDefault();
          $("#epc_verification_form").toggleClass("d-none");
          $("#search_postcode_form").toggleClass("d-none");
          $("#smartwizard").smartWizard("fixHeight");
        });

        $("#postalCode").on("input", function () {
          const input = $(this).val();
          const suggestionsContainer = $("#suggestionsContainer");

          // Clear previous suggestions
          suggestionsContainer.empty();

          // Check if input is not empty
          if (input) {
            suggestionsContainer.show();

            // Append each dummy address as a suggestion
            dummyAddresses.forEach((address) => {
              const suggestionItem = $(
                '<div class="suggestion-item"></div>'
              ).text(address);
              suggestionItem.on("click", function () {
                selectAddress(address);
              });
              suggestionsContainer.append(suggestionItem);
            });
          } else {
            suggestionsContainer.hide();
          }
        });

        function selectAddress(address) {
          $("#postalCode").val(address);
          $("#suggestionsContainer").hide();
        }

        // Close suggestions if user clicks outside
        $(document).on("click", function (event) {
          if (!$(event.target).closest("#postalCode").length) {
            $("#suggestionsContainer").hide();
          }
        });
      });
    </script>
  </body>
</html>
